<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLOW | OPERATOR TERMINAL</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="university-modal-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&family=Share+Tech+Mono&display=swap"
        rel="stylesheet">
</head>

<body class="terminal-layout">

    <!-- SIDEBAR NAVIGATION -->
    <nav class="cyber-sidebar">
        <a href="index.html" class="cyber-nav-btn home-btn" title="RETURN TO GRID"><i
                class="fa-solid fa-house-signal"></i></a>
        <div class="nav-divider"></div>

        <!-- User Avatar with Dropdown -->
        <div class="sidebar-user-avatar-container" style="position: relative;">
            <img src="https://via.placeholder.com/50" alt="User" class="sidebar-user-avatar" title="User Profile"
                id="sidebar-avatar">
            <div class="dropdown-menu" id="sidebar-dropdown"
                style="display: none; position: fixed; top: 80px; left: 70px; z-index: 10000;">
                <a href="channel.html" class="dropdown-item">
                    <div class="item-content">
                        <span class="item-title">BROADCAST FEED</span>
                        <span class="item-desc">>> Connect to live channel stream</span>
                    </div>
                </a>
                <a href="terminal.html" class="dropdown-item">
                    <div class="item-content">
                        <span class="item-title">OPERATOR TERMINAL</span>
                        <span class="item-desc">>> Stream dashboard & parameters</span>
                    </div>
                </a>
                <a href="profile.html" class="dropdown-item">
                    <div class="item-content">
                        <span class="item-title">OPERATOR DOSSIER</span>
                        <span class="item-desc">>> View operative profile data</span>
                    </div>
                </a>
                <a href="subscriptions.html" class="dropdown-item">
                    <div class="item-content">
                        <span class="item-title">SUBSCRIPTIONS & FEEDS</span>
                        <span class="item-desc">>> Network connections & followers</span>
                    </div>
                </a>
                <a href="settings.html" class="dropdown-item">
                    <div class="item-content">
                        <span class="item-title">OPERATOR SETTINGS</span>
                        <span class="item-desc">>> System config & preferences</span>
                    </div>
                </a>
                <a href="javascript:void(0)" class="dropdown-item kill-signal" id="sidebar-sign-out">
                    <div class="item-content">
                        <span class="item-title">KILL SIGNAL</span>
                        <span class="item-desc">>> Terminate Session & Erasure</span>
                    </div>
                </a>
            </div>
        </div>

        <!-- Netrunner University Icon (Hidden by default) -->
        <button id="university-btn" class="cyber-nav-btn university-icon" title="Netrunner University"
            style="display: none;">
            <div class="flowcard-icon">
                <i class="fa-solid fa-graduation-cap"></i>
                <span class="flowcard-badge" id="university-badge">0</span>
            </div>
        </button>

        <!-- FLOW CARD Icon -->
        <button id="flowcard-btn" class="cyber-nav-btn flowcard-icon" title="FLOWBANK">
            <div class="flowcard-icon">
                <i class="fa-solid fa-credit-card"></i>
                <span class="flowcard-badge" id="flowcard-badge">0</span>
            </div>
        </button>

        <a href="profile.html" class="cyber-nav-btn" title="OPERATOR DOSSIER"><i class="fa-solid fa-id-card"></i></a>
        <button class="cyber-nav-btn active" title="OPERATOR TERMINAL"><i class="fa-solid fa-terminal"></i></button>
        <a href="channel.html" class="cyber-nav-btn" title="BROADCAST FEED"><i
                class="fa-solid fa-broadcast-tower"></i></a>
        <div class="nav-spacer"></div>
        <button class="cyber-nav-btn" id="terminal-settings-btn" title="TERMINAL SETTINGS"><i
                class="fa-solid fa-sliders"></i></button>
    </nav>

    <!-- MAIN TERMINAL GRID -->
    <main class="terminal-grid">

        <!-- TOP STATUS BAR -->
        <header class="terminal-header">
            <div class="terminal-title">
                <i class="fa-solid fa-terminal"></i>
                <span>OPERATOR TERMINAL</span>
                <span class="terminal-version">v2.4</span>
            </div>

            <div class="status-indicators">
                <!-- ONLINE STATUS -->
                <div class="status-chip" id="online-status">
                    <span class="status-dot online"></span>
                    <span class="status-label">ONLINE</span>
                    <button class="status-toggle" id="toggle-stream" title="Toggle Stream">
                        <i class="fa-solid fa-power-off"></i>
                    </button>
                </div>

                <!-- VIEWER COUNT -->
                <div class="status-chip clickable" id="viewer-chip" title="Click to toggle visibility">
                    <i class="fa-solid fa-eye"></i>
                    <span class="stat-value" id="viewer-count">1,247</span>
                    <span class="stat-label">VIEWERS</span>
                </div>

                <!-- FOLLOWER COUNT -->
                <div class="status-chip">
                    <i class="fa-solid fa-heart"></i>
                    <span class="stat-value" id="follower-count">42.3K</span>
                    <span class="stat-label">FOLLOWERS</span>
                </div>

                <!-- UPTIME -->
                <div class="status-chip">
                    <i class="fa-solid fa-clock"></i>
                    <span class="stat-value" id="uptime">02:34:17</span>
                    <span class="stat-label">UPTIME</span>
                </div>
            </div>

            <div class="header-actions">
                <button class="action-btn pulse-btn" id="go-live-btn">
                    <i class="fa-solid fa-circle"></i> GO LIVE
                </button>
            </div>
        </header>

        <!-- TILE: STREAM INFO -->
        <section class="terminal-tile stream-info-tile">
            <div class="tile-header">
                <i class="fa-solid fa-clapperboard"></i>
                <span>STREAM_CONFIG.exe</span>
                <div class="tile-status">
                    <span class="status-dot online"></span>
                    <span>ACTIVE</span>
                </div>
            </div>
            <div class="tile-body">
                <!-- Game Thumbnail (Extended) -->
                <div class="game-thumbnail" style="height: 300px; margin-bottom: 20px;">
                    <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?w=200" alt="Game"
                        id="game-thumb" style="width: 100%; height: 100%; object-fit: cover;">
                    <button class="change-thumb-btn" title="Change Thumbnail">
                        <i class="fa-solid fa-camera"></i>
                    </button>
                </div>

                <!-- Stream Title -->
                <div class="input-field">
                    <label>STREAM_TITLE:</label>
                    <input type="text" id="stream-title" value="Ranked Competitive | !drops !discord"
                        placeholder="Enter stream title...">
                </div>

                <!-- Game Selector -->
                <div class="input-field autocomplete-field">
                    <label>CATEGORY:</label>
                    <input type="text" id="game-search" placeholder="Search games..." autocomplete="off">
                    <div class="autocomplete-dropdown" id="game-dropdown"></div>
                </div>

                <!-- Tags -->
                <div class="input-field">
                    <label>TAGS:</label>
                    <div class="tag-container">
                        <span class="tag">English</span>
                        <span class="tag">Competitive</span>
                        <span class="tag">18+</span>
                        <button class="add-tag-btn"><i class="fa-solid fa-plus"></i></button>
                    </div>
                </div>

                <button class="save-config-btn">
                    <i class="fa-solid fa-floppy-disk"></i> SAVE CONFIG
                </button>
            </div>
        </section>

        <!-- TILE: ACTIVITY FEED -->
        <section class="terminal-tile activity-feed-tile">
            <div class="tile-header">
                <i class="fa-solid fa-bolt"></i>
                <span>ACTIVITY_FEED.log</span>
                <div class="tile-controls">
                    <button class="tile-btn" title="Filter"><i class="fa-solid fa-filter"></i></button>
                    <button class="tile-btn" title="Clear"><i class="fa-solid fa-trash"></i></button>
                </div>
            </div>
            <div class="tile-body feed-scroll" id="activity-feed">
                <!-- Entries populated by JS -->
                <div class="feed-entry surge">
                    <div class="entry-icon"><i class="fa-solid fa-satellite-dish"></i></div>
                    <div class="entry-content">
                        <span class="entry-user">CyberNinja_99</span>
                        <span class="entry-action">sent a <strong>SURGE</strong> of 347 viewers!</span>
                    </div>
                    <span class="entry-time">2m ago</span>
                </div>
                <div class="feed-entry follow">
                    <div class="entry-icon"><i class="fa-solid fa-heart"></i></div>
                    <div class="entry-content">
                        <span class="entry-user">NeonWraith</span>
                        <span class="entry-action">started following</span>
                    </div>
                    <span class="entry-time">3m ago</span>
                </div>
                <div class="feed-entry subscribe">
                    <div class="entry-icon"><i class="fa-solid fa-star"></i></div>
                    <div class="entry-content">
                        <span class="entry-user">GlitchMaster</span>
                        <span class="entry-action">subscribed at <strong>Tier 3</strong>!</span>
                    </div>
                    <span class="entry-time">5m ago</span>
                </div>
                <div class="feed-entry tokens">
                    <div class="entry-icon"><i class="fa-solid fa-coins"></i></div>
                    <div class="entry-content">
                        <span class="entry-user">DataPhantom</span>
                        <span class="entry-action">sent <strong>500 FLOW TOKENS</strong></span>
                        <span class="entry-message">"Keep being awesome!"</span>
                    </div>
                    <span class="entry-time">7m ago</span>
                </div>
                <div class="feed-entry follow">
                    <div class="entry-icon"><i class="fa-solid fa-heart"></i></div>
                    <div class="entry-content">
                        <span class="entry-user">SynthWave_DJ</span>
                        <span class="entry-action">started following</span>
                    </div>
                    <span class="entry-time">8m ago</span>
                </div>
            </div>
        </section>

        <!-- TILE: STREAM CHAT (NEW - Under Activity Feed) -->
        <section class="terminal-tile chat-tile">
            <div class="tile-header">
                <i class="fa-solid fa-message"></i>
                <span>STREAM_CHAT.log</span>
            </div>
            <div class="tile-body" style="padding: 0; height: 600px; display: flex; flex-direction: column;">
                <div class="chat-messages" id="terminal-chat-feed" style="flex: 1; overflow-y: auto; padding: 15px;">
                    <div class="message"><span class="user" style="color:#0ff">NeonDemon:</span> <span class="text">Lets
                            goooo!</span></div>
                    <div class="message"><span class="user" style="color:#ff0055">CyberKate:</span> <span
                            class="text">Is this the new update?</span></div>
                    <div class="message"><span class="user" style="color:#00ff88">GlitchMob:</span> <span
                            class="text">POGGERS</span></div>
                    <div class="message"><span class="user" style="color:#aaa">Guest99:</span> <span class="text">What
                            sensitivity do you use?</span></div>
                    <div class="message"><span class="user" style="color:#0ff">NeonDemon:</span> <span class="text">That
                            aim is snappy!</span></div>
                    <div class="message"><span class="user" style="color:#ff0055">CyberKate:</span> <span
                            class="text">First time chat here.</span></div>
                </div>

                <!-- CHAT INPUT AREA WITH EMOTES (From channel.html) -->
                <div class="chat-input-wrapper-column">

                    <!-- ADVANCED EMOTE PICKER -->
                    <div class="emote-directory" id="emote-picker">

                        <!-- Search -->
                        <div class="emote-search-box">
                            <i class="fa-solid fa-search"></i>
                            <input type="text" id="emote-search" placeholder="Search emotes...">
                        </div>

                        <!-- Horizontal Nav (Channels) -->
                        <div class="emote-nav-scroll">
                            <div class="emote-nav-item active" data-target="global">
                                <i class="fa-solid fa-globe"></i>
                            </div>
                        </div>

                        <!-- Emote Content -->
                        <div class="emote-directory-content">

                            <!-- Global Section -->
                            <div class="emote-section" id="sec-global">
                                <div class="sec-title">GLOBAL FLOW</div>
                                <div class="emote-grid-large">
                                    <span>ü§ñ</span><span>üëΩ</span><span>üëæ</span><span>ü¶æ</span>
                                    <span>üß†</span><span>üëÅÔ∏è</span><span>üíø</span><span>üíæ</span>
                                    <span>üîã</span><span>üíä</span><span>üß¨</span><span>ü¶†</span>
                                    <span>üü¢</span><span>üî¥</span><span>üü£</span><span>üîµ</span>
                                    <span>üõπ</span><span>üî•</span><span>üíØ</span><span>üò§</span>
                                    <span>üßó</span><span>üèÜ</span><span>ü•á</span><span>üéÆ</span>
                                    <span>üíª</span><span>‚å®Ô∏è</span><span>üñ±Ô∏è</span><span>üêõ</span>
                                    <span>üîß</span><span>‚òï</span><span>üõ†Ô∏è</span><span>üì°</span>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- QUICK ACCESS BAR (Top 8) -->
                    <div class="quick-emote-bar" id="quick-bar">
                        <!-- Populated by JS -->
                    </div>

                    <!-- INPUT ROW -->
                    <div class="chat-input-area">
                        <div class="input-controls-left">
                            <button id="emote-btn" class="icon-btn" title="Open Emote Directory">
                                <i class="fa-solid fa-face-smile"></i>
                            </button>
                        </div>

                        <input type="text" id="terminal-chat-input" placeholder="Send transmission..."
                            class="chat-input">
                        <button id="terminal-chat-send" class="send-btn">SEND</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- TILE: MODERATION LOG -->
        <section class="terminal-tile mod-log-tile">
            <div class="tile-header">
                <i class="fa-solid fa-shield-halved"></i>
                <span>MOD_LOG.sys</span>
                <div class="tile-controls">
                    <button class="tile-btn active" data-filter="all">ALL</button>
                    <button class="tile-btn" data-filter="timeout">TIMEOUT</button>
                    <button class="tile-btn" data-filter="ban">BAN</button>
                    <button class="tile-btn" data-filter="change">CHANGES</button>
                </div>
            </div>
            <div class="tile-body log-scroll" id="mod-log">
                <div class="log-entry timeout">
                    <div class="log-icon"><i class="fa-solid fa-clock"></i></div>
                    <div class="log-content">
                        <span class="log-action">TIMEOUT</span>
                        <span class="log-target">ToxicTroll42</span>
                        <span class="log-details">600s - Spam</span>
                    </div>
                    <span class="log-mod">by: ModBot</span>
                    <span class="log-time">12:34:22</span>
                </div>
                <div class="log-entry ban">
                    <div class="log-icon"><i class="fa-solid fa-gavel"></i></div>
                    <div class="log-content">
                        <span class="log-action">BAN</span>
                        <span class="log-target">HateAccount_X</span>
                        <span class="log-details">Permanent - Harassment</span>
                    </div>
                    <span class="log-mod">by: NightWatch</span>
                    <span class="log-time">12:31:05</span>
                </div>
                <div class="log-entry change">
                    <div class="log-icon"><i class="fa-solid fa-pen"></i></div>
                    <div class="log-content">
                        <span class="log-action">TITLE_CHANGE</span>
                        <span class="log-details">"Ranked Grind!" ‚Üí "Ranked Competitive | !drops"</span>
                    </div>
                    <span class="log-mod">by: Streamer</span>
                    <span class="log-time">12:28:44</span>
                </div>
                <div class="log-entry timeout">
                    <div class="log-icon"><i class="fa-solid fa-clock"></i></div>
                    <div class="log-content">
                        <span class="log-action">TIMEOUT</span>
                        <span class="log-target">SpamBot_2000</span>
                        <span class="log-details">300s - Bot Activity</span>
                    </div>
                    <span class="log-mod">by: AutoMod</span>
                    <span class="log-time">12:25:18</span>
                </div>
            </div>
        </section>

        <!-- TILE: ANALYTICS (HORIZONTAL LAYOUT - Under MOD_LOG) -->
        <section class="terminal-tile stats-tile">
            <div class="tile-header">
                <i class="fa-solid fa-chart-line"></i>
                <span>ANALYTICS.db</span>
            </div>
            <div class="tile-body" style="display: flex; gap: 15px; padding: 20px;">
                <div class="stat-card" style="flex: 1;">
                    <div class="stat-icon"><i class="fa-solid fa-message"></i></div>
                    <div class="stat-info">
                        <span class="stat-number">4,521</span>
                        <span class="stat-label">Chat Messages</span>
                    </div>
                </div>
                <div class="stat-card" style="flex: 1;">
                    <div class="stat-icon"><i class="fa-solid fa-users"></i></div>
                    <div class="stat-info">
                        <span class="stat-number">892</span>
                        <span class="stat-label">Peak Viewers</span>
                    </div>
                </div>
                <div class="stat-card" style="flex: 1;">
                    <div class="stat-icon"><i class="fa-solid fa-user-plus"></i></div>
                    <div class="stat-info">
                        <span class="stat-number">+47</span>
                        <span class="stat-label">New Followers</span>
                    </div>
                </div>
                <div class="stat-card" style="flex: 1;">
                    <div class="stat-icon"><i class="fa-solid fa-coins"></i></div>
                    <div class="stat-info">
                        <span class="stat-number">2,150</span>
                        <span class="stat-label">FlowTokens</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- TILE: LIVE CODE TERMINAL -->
        <section class="terminal-tile code-terminal-tile">
            <div class="tile-header">
                <i class="fa-solid fa-code"></i>
                <span>SYS_MONITOR.exe</span>
                <div class="tile-status blink">
                    <span class="status-dot online"></span>
                    <span>LIVE</span>
                </div>
            </div>
            <div class="tile-body code-scroll" id="code-terminal">
                <pre class="code-output">
<span class="code-comment">// FLOW STREAMING ENGINE v2.4</span>
<span class="code-comment">// Initializing broadcast pipeline...</span>

<span class="code-keyword">const</span> stream = <span class="code-keyword">new</span> <span class="code-class">BroadcastEngine</span>({
    <span class="code-prop">resolution</span>: <span class="code-string">'1080p60'</span>,
    <span class="code-prop">bitrate</span>: <span class="code-number">6000</span>,
    <span class="code-prop">encoder</span>: <span class="code-string">'x264'</span>
});

<span class="code-keyword">await</span> stream.<span class="code-func">connect</span>(<span class="code-string">'rtmp://ingest.flow.gg'</span>);
<span class="code-success">‚úì Connection established</span>

<span class="code-keyword">while</span> (stream.isLive) {
    <span class="code-keyword">const</span> packet = <span class="code-keyword">await</span> stream.<span class="code-func">getNextFrame</span>();
    <span class="code-keyword">await</span> <span class="code-func">transcode</span>(packet);
    <span class="code-keyword">await</span> <span class="code-func">distribute</span>(packet, viewers);
}
                </pre>
                <div class="code-cursor"></div>
            </div>
        </section>

    </main>

    <!-- Main Script (MUST load first) -->
    <script src="script.js"></script>

    <!-- Credit System Scripts (load after main script) -->
    <script src="flowbank-system.js"></script>
    <script src="netrunner-university.js"></script>
    <script src="bounty-watch-system.js"></script>
    <script src="integration-fixes.js"></script>

    <!-- Terminal Tile Management -->
    <script src="terminal-tiles.js"></script>

    <!-- Terminal Chat Functionality -->
    <script src="terminal-chat.js"></script>

    <!-- Terminal Tile Resize -->
    <script src="terminal-resize.js"></script>

    <!-- Avatar Circle Fix -->
    <script src="avatar-fix.js"></script>

    <!-- Credit System UI -->
    <script src="credit-system-ui.js"></script>
</body>

</html>